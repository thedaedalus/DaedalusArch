# This installs my dotfiles using dotbot
- defaults:
    link:
      create: true
      relink: true
- shell:
    - command: "mkdir -p ~/.config/kitty"
    - command: "mkdir -p ~/.config/eza"
    - command: "mkdir -p ~/.config/fastfetch"
    - command: "mkdir -p ~/.config/niri"
    - command: "mkdir -p ~/.config/zed"
    # Backup existing files
    - command: "mv ~/.bashrc ~/.bashrc_backup_$(date +%s)"
    - command: "mv ~/.config/kitty/kitty.conf ~/.config/kitty/kitty.conf_backup_$(date +%s)"
    - command: "mv ~/.config/eza/config.yml ~/.config/eza/config.yml_backup_$(date +%s)"
    - command: "mv ~/.config/fastfetch/config.jsonc ~/.config/fastfetch/config.jsonc_backup_$(date +%s)"
    - command: "mv ~/.config/niri/config.kdl ~/.config/niri/config.kdl_backup_$(date +%s)"
    - command: "mv ~/.config/starship.toml ~/.config/starship.toml_backup_$(date +%s)"
    - command: "mv ~/.config/tealdeer/config.toml ~/.config/tealdeer/config.toml_backup_$(date +%s)"

# Bash Files
- link:
    ~/.bashrc: dotfiles/bash/bashrc
# Kitty config
- link:
    ~/.config/kitty/kitty.conf: dotfiles/kitty/kitty.conf
    ~/.config/kitty/dank-theme.conf: dotfiles/kitty/dank-theme.conf
    ~/.config/kitty/theme-catppuccin-macchiato.conf: dotfiles/kitty/theme-catppuccin-macchiato.conf
    ~/.config/kitty/tabs.conf: dotfiles/kitty/tabs.conf
# Eza config
- link:
    ~/.config/eza/config.yml: dotfiles/eza/config.yml
# fastfetch config
- link:
    ~/.config/fastfetch/config.jsonc: dotfiles/fastfetch/config.jsonc
# Niri config
- link:
    ~/.config/niri/config.kdl: dotfiles/niri/config.kdl
    ~/.config/niri/dms/binds.kdl: dotfiles/niri/dms/binds.kdl
    ~/.config/niri/dms/colors.kdl: dotfiles/niri/dms/colors.kdl
    ~/.config/niri/dms/layout.kdl: dotfiles/niri/dms/layout.kdl

# Starship config
- link:
    ~/.config/starship.toml: dotfiles/starship/starship.toml
# tealdeer config

- link:
    ~/.config/tealdeer/config.toml: dotfiles/tealdeer/config.toml
# zed config
- link:
    ~/.config/zed/config.json: dotfiles/zed/config.json
    ~/.config/zed/keymap.json: dotfiles/zed/keymap.json
    ~/.config/zed/tasks.json: dotfiles/zed/tasks.json

# Clean symlinks which have moved
- clean: ["~", "~/.config/"]
